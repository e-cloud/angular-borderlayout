/**
 * angular-borderlayout2 - A set of Angular.js components to manage and define border layouts
 * @version v0.6.0
 * @link https://github.com/e-cloud/angular-borderlayout
 * @license MIT
 */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,t){if("function"==typeof define&&define.amd)define(["angular"],t);else{if("object"!==("undefined"==typeof module?"undefined":_typeof(module))||!module.exports)return t(e.angular);module.exports=t(require("angular"))}}(window,function(e){var t=e.module("fa.directive.borderLayout",[]);return t.factory("paneManager",function(){return{panes:{},get:function(e){return this.panes[e]},set:function(e,t){return this.panes[e]=t},remove:function(e){return delete this.panes[e]}}}),t.factory("Region",function(){function t(e,t,n,i,o,a){this.width=null!=e?e:0,this.height=null!=t?t:0,this.top=null!=n?n:0,this.right=null!=i?i:0,this.bottom=null!=o?o:0,this.left=null!=a?a:0}return t.prototype.clone=function(){return new t(this.width,this.height,this.top,this.right,this.bottom,this.left)},t.prototype.calculateSize=function(t,n){var i=void 0,o=void 0;null==n&&(n=0);var a=this.getSize(t),r=this.getAvailableSize(t);if(e.isNumber(n))return n>=1?Math.round(n):n>=0?Math.round(n*a):0;if(n=n.replace(/\s+/gm,""),(o=n.split("-")).length>1)return this.calculateSize(t,o.shift())-this.calculateSize(t,o.join("+"));if((o=n.split("+")).length>1)return this.calculateSize(t,o.shift())+this.calculateSize(t,o.join("+"));if(i=n.match(/^(\d+)(?:px)?$/))return parseInt(i[1],10);if(i=n.match(/^(\d+(?:\.\d+)?)&$/))return Math.round(r*parseFloat(i[1])/100);if(i=n.match(/^(\d+(?:\.\d+)?)%$/))return Math.round(a*parseFloat(i[1])/100);throw new Error("Unsupported size: "+n)},t.prototype.consume=function(e,t){var n=void 0;switch(null==t&&(t=0),e){case"north":n={top:this.top+"px",right:this.right+"px",bottom:"auto",left:this.left+"px",height:t+"px",width:"auto"},this.top+=t;break;case"east":n={top:this.top+"px",right:this.right+"px",bottom:this.bottom+"px",left:"auto",width:t+"px",height:"auto"},this.right+=t;break;case"south":n={top:"auto",right:this.right+"px",bottom:this.bottom+"px",left:this.left+"px",height:t+"px",width:"auto"},this.bottom+=t;break;case"west":n={top:this.top+"px",right:"auto",bottom:this.bottom+"px",left:this.left+"px",width:t+"px",height:"auto"},this.left+=t}return 0===t&&(n.display="none"),n},t.prototype.getInnerRegion=function(){return new t(this.width-this.right-this.left,this.height-this.top-this.bottom)},t.prototype.getSize=function(e){switch(e){case"vertical":return this.height;case"horizontal":return this.width}},t.prototype.getAvailableSize=function(e){switch(e){case"vertical":return this.height-this.top-this.bottom;case"horizontal":return this.width-this.right-this.left}},t.prototype.toString=function(){return"{"+this.top+", "+this.right+", "+this.bottom+", "+this.left+"}, {"+this.width+", "+this.height+"}"},t}),t.factory("faPaneUtil",function(){function t(e){switch(e){case"north":case"south":return"vertical";case"east":case"west":return"horizontal"}}function n(e,t){var n={top:0,right:0,bottom:0,left:0};if(t)switch(e){case"north":n.bottom="auto",n.height=t+"px";break;case"east":n.left="auto",n.width=t+"px";break;case"south":n.top="auto",n.height=t+"px";break;case"west":n.right="auto",n.width=t+"px"}else switch(e){case"north":case"south":n.height=0;break;case"west":case"east":n.width=0}return n}function i(e,t,n){switch(e){case"north":return{height:t.calculateSize("vertical",n)+"px",right:0,left:0,bottom:0};case"south":return{height:t.calculateSize("vertical",n)+"px",right:0,left:0,top:0};case"east":return{width:t.calculateSize("horizontal",n)+"px",top:0,bottom:0,left:0};case"west":return{width:t.calculateSize("horizontal",n)+"px",top:0,bottom:0,right:0}}}function o(t){return e.isString(t)&&(t="true"===e.lowercase(t)),!!t}var a=function(){var e=0,t=function(){return e++};return t.peek=function(){return e},t}();return{getOrientation:t,getScrollerStyle:n,getHandleStyle:i,generateSerialId:a,stringToBoolean:o}}),t.directive("faPane",["$window","$templateCache","paneManager","faPaneUtil",function(t,n,i,o){var a=null;return{restrict:"A",replace:!0,require:"faPane",priority:1,transclude:"element",scope:{anchor:"@paneAnchor",paneId:"@faPane",size:"@paneSize",min:"@paneMin",max:"@paneMax",handle:"@paneHandle",closed:"=paneClosed",order:"@paneOrder",noResize:"@paneNoResize",noToggle:"@paneNoToggle"},template:n.get("template/borderLayout.tpl.html"),controllerAs:"$pane",controller:["$rootScope","$scope","$attrs","$timeout","Region",function(t,n,i,r,s){e.extend(this,{children:[],closed:!1,noToggle:!1,noResize:!1,max:Number.MAX_VALUE,min:0,order:0,getOptions:function(){return{anchor:this.anchor,targetSize:this.targetSize,size:this.size,min:this.min,max:this.max,order:this.order||0,handle:{open:this.handleSizeOpen||0,closed:this.handleSizeClosed||0},noResize:!!this.noResize,noToggle:!!this.noToggle,closed:this.closed}},setOptions:function(e){null==e&&(e={}),null!=e.anchor&&this.setAnchor(e.anchor),null!=e.size&&this.setTargetSize(e.size),null!=e.min&&this.setMinSize(e.min),null!=e.max&&this.setMaxSize(e.max),null!=e.handle&&this.setHandleSize(e.handle),null!=e.order&&this.setOrder(e.order),null!=e.noToggle&&this.setNoToggle(e.noToggle),null!=e.noResize&&this.setNoResize(e.noResize),null!=e.closed&&this.toggle(!e.closed)},setAnchor:function(e){this.anchor=e,this.$scheduleReflow()},setTargetSize:function(e){this.targetSize=e,this.$scheduleReflow()},setMinSize:function(e){this.min=null!=e?e:0,this.$scheduleReflow()},setMaxSize:function(e){this.max=null!=e?e:Number.MAX_VALUE,this.$scheduleReflow()},setOrder:function(e){this.order=e||0,this.$scheduleReflow()},setNoToggle:function(e){this.noToggle=!!e,this.$scheduleReflow()},setNoResize:function(e){this.noResize=!!e},setHandleSize:function(t){if(e.isObject(t)){if(!t.open||!t.close)throw new Error("illegal handle object.");this.handleSizeOpen=parseInt(t.open,10)||0,this.handleSizeClosed=parseInt(t.close,10)||0}else this.handleSizeOpen=this.handleSizeClosed=parseInt(t,10)||0;this.$scheduleReflow()},$scheduleReflow:function(){var e=this;e.paneParent?e.paneParent.$scheduleReflow():e.$reflowScheduled||(e.$reflowScheduled=!0,t.$evalAsync(function(){e.$reflowScheduled&&e.reflow(),e.$reflowScheduled=!1}))},$onStartResize:function(){this.$parent?this.paneParent.$containerEl.addClass("fa-pane-resizing"):this.$containerEl.addClass("fa-pane-resizing")},$onStopResize:function(){this.$parent?this.paneParent.$containerEl.removeClass("fa-pane-resizing"):this.$containerEl.removeClass("fa-pane-resizing")},addChild:function(e){e.paneParent=this,this.children.push(e),this.children.length&&this.$containerEl.addClass("fa-pane-parent")},getOrientation:function(){return o.getOrientation(this.anchor)},onHandleDown:function(){this.$containerEl.addClass("active")},onHandleUp:function(){this.$containerEl.removeClass("active"),this.$scheduleReflow()},removeChild:function(e){var t=this.children.indexOf(e);0>t||this.children.splice(t,1),this.children.length||this.$containerEl.removeClass("fa-pane-parent"),this.$scheduleReflow()},reflow:function(e){var n=this,i=n.$containerEl[0].offsetWidth,l=n.$containerEl[0].offsetHeight;e||(e=new s(i,l));var c=n.anchor;if("north"===c||"east"===c||"south"===c||"west"===c){n.$containerEl.removeClass("fa-pane-orientation-vertical"),n.$containerEl.removeClass("fa-pane-orientation-horizontal");var h=o.getOrientation(n.anchor);n.$containerEl.addClass("fa-pane-orientation-"+h),n.anchor&&n.$containerEl.addClass("fa-pane-direction-"+n.anchor);var u=e.calculateSize(h,!n.closed&&n.handleSizeOpen||n.handleSizeClosed),d=u;n.closed||(d=e.calculateSize(h,!n.closed&&n.targetSize||u),n.maxSize=n.max===Number.MAX_VALUE?e.getSize(o.getOrientation(n.anchor)):e.calculateSize(h,n.max),n.minSize=e.calculateSize(h,n.min),d=Math.min(d,n.maxSize),d=Math.max(d,n.minSize),d=Math.min(d,e.getAvailableSize(h)),d=Math.max(d,u)),this.size=d;var f=e.consume(n.anchor,d),p=o.getScrollerStyle(n.anchor,d-u),g=o.getHandleStyle(n.anchor,e,u);n.$containerEl.attr("style","").css(f),n.$overlayEl.attr("style","").css(p),n.$handleEl.attr("style","").css(g),n.$scrollerEl.attr("style","").css(p)}else n.$containerEl.css({top:e.top+"px",right:e.right+"px",bottom:e.bottom+"px",left:e.left+"px",width:"auto",height:"auto"});n.$region=e.clone(),n.reflowChildren(n.$region.getInnerRegion()),null!==a&&r.cancel(a),a=r(function(){t.$broadcast("fa-pane-reflow-finished",n),a=null},400),t.$broadcast("fa-pane-resize",n)},reflowChildren:function(e){var t=this;e||(e=t.$region),t.children.sort(function(e,t){return e.order-t.order});for(var n=0;n<t.children.length;n++){var i=t.children[n];i.reflow(e)}},resize:function(e){var t=this;if(null==e&&(e=t.targetSize),e!==t.size){if(t.targetSize=e,e>t.maxSize){if(t.$containerEl.addClass("fa-pane-constrained"),t.maxSize===t.size)return}else if(e<t.minSize){if(t.$containerEl.addClass("fa-pane-constrained"),t.minSize===t.size)return}else t.$containerEl.removeClass("fa-pane-constrained");t.paneParent.reflowChildren(t.paneParent.$region.getInnerRegion())}},toggle:function(e){var t=this;null==e&&(e=!!t.closed),t.closed=!e,t.closed?t.$containerEl.addClass("fa-pane-closed"):t.$containerEl.removeClass("fa-pane-closed"),t.$scheduleReflow()}})}],link:function(e,n,a,r,s){function l(e){e.stopPropagation(),r.$scheduleReflow()}var c=o.generateSerialId(),h=e.$parent.$new();h.$pane=e.$pane=r,null==r.order&&(r.order=c),r.id=a.faPane,e.$watch("anchor",function(e){void 0!==e&&r.setAnchor(e)}),e.$watch("size",function(e){r.setTargetSize(e)}),e.$watch("closed",function(e){void 0!==e&&r.toggle(!e)}),e.$watch("min",function(e){void 0!==e&&r.setMinSize(e)}),e.$watch("max",function(e){void 0!==e&&r.setMaxSize(e)}),e.$watch("noResize",function(e){void 0!==e&&r.setNoResize(stringToBoolean(e))}),e.$watch("noToggle",function(e){void 0!==e&&r.setNoToggle(stringToBoolean(e))}),e.$watch("paneId",function(e,t){t&&(i.remove(t),r.$containerEl.removeClass("pane-"+t)),i.set(e,r),r.id=e,r.$containerEl.addClass("pane-"+r.id)}),e.$watch("handle",function(t,n){void 0!==t&&r.setHandleSize(e.$eval(t))}),r.$isolateScope=e,r.$transcludeScope=h,h.$on("fa-pane-attach",function(e,t){t!==r&&(e.stopPropagation(),r.addChild(t))}),h.$on("fa-pane-detach",function(e,t){t!==r&&(e.stopPropagation(),r.removeChild(t))}),h.$on("$stateChangeSuccess",function(){r.$scheduleReflow()}),h.$on("$destroy",function(){r.$transcludeScope.$emit("fa-pane-detach",r),t.removeEventListener("resize",l)}),t.addEventListener("resize",l),s(h,function(e,t){e.addClass("fa-pane-scroller"),n.append(e),r.$containerEl=n,r.$overlayEl=n.children().eq(0),r.$handleEl=n.children().eq(1),r.$scrollerEl=n.children().eq(2),t.$emit("fa-pane-attach",r)})}}}]),t.directive("faPaneToggle",function(){return{restrict:"A",link:function(e,t,n){t.on("click",function(t){t.preventDefault(),e.$pane.toggle()})}}}),t.directive("faPaneResizer",["$window",function(e){function t(e,t,n){var i=Date.now||function(){return(new Date).getTime()},o=void 0,a=void 0,r=void 0,s=null,l=0;n=n||{};var c=function(){l=n.leading===!1?0:i(),s=null,r=e.apply(o,a),o=a=null};return function(){var h=i();l||n.leading!==!1||(l=h);var u=t-(h-l);return o=this,a=arguments,0>=u?(clearTimeout(s),s=null,l=h,r=e.apply(o,a),o=a=null):s||n.trailing===!1||(s=setTimeout(c,u)),r}}return{restrict:"A",link:function(n,i,o){var a=n.$pane,r=i[0],s=5,l=300;n.$watch(function(){return a.getOrientation()},function(e){switch(e){case"vertical":i.removeClass("vertical"),i.addClass("horizontal");break;case"horizontal":i.addClass("vertical"),i.removeClass("horizontal")}}),n.$watch(function(){return a.noResize},function(e){e?i.addClass("fa-pane-no-resize"):i.removeClass("fa-pane-no-resize")}),r.addEventListener("mousedown",function(i){if(0===i.button&&i.currentTarget===i.target&&!a.noResize){var o=a.anchor,c=void 0;"north"===o||"south"===o?c="clientY":"west"!==o&&"east"!==o||(c="clientX");var h=void 0;"north"===o||"west"===o?h=1:"south"!==o&&"east"!==o||(h=-1);var u={x:i.screenX,y:i.screenY},d=i[c],f=a.size,p=Date.now();r.unselectable="on",r.onselectstart=function(){return!1},r.style.userSelect=r.style.MozUserSelect=r.style.msUserSelect=r.style.webkitUserSelect="none",i.preventDefault(),i=null;var g=function(e){a.$onStartResize(),n.$apply(function(){var t=f+h*(e[c]-d);a.resize(t)}),e.preventDefault(),e=null},m=t(g,33,{trailing:!1}),v=function z(t){var n=Math.pow(t.screenX-u.x,2)+Math.pow(t.screenY-u.y,2),i=Date.now()-p;e.removeEventListener("mousemove",m,!0),e.removeEventListener("mouseup",z,!0),n<=Math.pow(s,2)&&l>=i||g(t),a.$onStopResize(),t.preventDefault(),t=null};e.addEventListener("mouseup",v,!0),e.addEventListener("mousemove",m,!0)}})}}}]),e.module("fa.directive.borderLayout").run(["$templateCache",function(e){e.put("template/borderLayout.tpl.html",'<div class="fa-pane"> <div class="fa-pane-overlay"></div> <div class="fa-pane-handle" fa-pane-resizer> <div ng-if="!$pane.noToggle" class="fa-pane-toggle" fa-pane-toggle></div> </div> </div>')}]),t});